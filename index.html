<html>

<head>
<script src="./scripts/jquery-3.1.1.min.js"></script>
<script src="./scripts/json2.js"></script>

<script type="text/javascript">

var host = 'http://kwan-test01.azurewebsites.net/';
function enterGate(userId, vehicleNumber)
{
	$.ajax({
		method: 'POST',
		contentType: 'application/json',
		dataType: 'json',
		data: JSON.stringify({ UserId: userId, VehicleNumber: vehicleNumber}),
		url: host + 'gateevent/enter',
		success: function(res){
			if(res.result)
			{
				alert('Entering car park');
			}
			else
			{
				alert('Error.. ' + res.message);
			}
		},
		error: function(xhr,status,error){
			alert('Error...');
		}
	});
}

function exitGate(userId, vehicleNumber)
{
	$.ajax({
		method: 'POST',
		contentType: 'application/json',
		dataType: 'json',
		data: JSON.stringify({ UserId: userId, VehicleNumber: vehicleNumber}),
		url: host + 'gateevent/exit',
		success: function(res){
			if(res)
			{
				alert('Vehicle has left the car park');
			}
			else
			{
				alert('System error...');
			}
		},
		error: function(xhr,status,error){
			alert('Error...');
		}
	});
}

</script>

</head>

<body>

<table border="1">
	<tr align="center">
		<td>Enter</td>
		<td>Exit</td>
	</tr>
	
	<tr>	
		<td>
			<UL>
				<li><input onclick="enterGate('CC9709F4-9994-4F96-854F-25712DA7E2EB', 'F1111')" type="button" value="Kwan - F1111" /></li>
				<li><input onclick="enterGate('2C41D183-BD11-478C-8AC9-50CFE7E45E02', 'F2222')" type="button" value="Chu - F2222" /></li>
				<li><input onclick="enterGate('22E19737-249D-4BC8-8A34-4878843AD441', 'V9999')" type="button" value="John - V9999" /></li>
			</UL>
		</td>
		
		<td>
			<UL>
				<li><input onclick="exitGate('CC9709F4-9994-4F96-854F-25712DA7E2EB', 'F1111')" type="button" value="Kwan - F1111" /></li>
				<li><input onclick="exitGate('2C41D183-BD11-478C-8AC9-50CFE7E45E02', 'F2222')" type="button" value="Chu - F2222" /></li>
				<li><input onclick="exitGate('22E19737-249D-4BC8-8A34-4878843AD441', 'V9999')" type="button" value="John - V9999" /></li>
			</UL>
		</td>
	</tr>
</table>

</body>
</html>